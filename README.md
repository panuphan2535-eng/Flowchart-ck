## Flowchart 1: ขั้นตอนการสมัครสมาชิกและการอนุมัติผู้ใช้ใหม่

```mermaid
graph TD
    subgraph "ผู้ใช้ใหม่"
        A[เปิดหน้าเว็บ] --> B{มีบัญชีหรือไม่?};
        B -->|ไม่มี| C[คลิก 'สมัครสมาชิก'];
        C --> D[กรอกข้อมูลในฟอร์ม];
        D --> E[กด 'สมัครสมาชิก'];
    end

    subgraph "ระบบ (System)"
        E --> F[1. สร้างบัญชีในระบบ];
        F --> G[2. ตั้งสถานะเป็น 'รออนุมัติ'];
        G --> H[3. แจ้งเตือน Admin ผ่าน LINE];
    end

    subgraph "ผู้ดูแลระบบ (Admin)"
        H --> I[Admin เข้าสู่ระบบ];
        I --> J[ตรวจสอบข้อมูลผู้สมัคร];
        J --> K{อนุมัติหรือไม่?};
    end

    subgraph "ผลลัพธ์"
        K -->|ไม่อนุมัติ| L[บัญชีคงสถานะ 'รออนุมัติ'];
        K -->|อนุมัติ| M[Admin เปลี่ยนสถานะเป็น 'Active'];
        M --> N[ระบบส่ง LINE/Email แจ้งผู้ใช้];
        N --> O[ผู้ใช้สามารถเข้าสู่ระบบได้];
    end
```

## Flowchart 2: กระบวนการขอลาและการอนุมัติ (Leave Request & Approval)

```mermaid
graph TD;
    subgraph "พนักงาน (Employee)"
        A[เข้าสู่ระบบ] --> B[คลิก 'ขออนุญาตลา'];
        B --> C[กรอกฟอร์มคำขอลา];
        C --> D[กด 'ยืนยัน'];
    end

    subgraph "ระบบ (System)"
        D --> E[1. ตรวจสอบสิทธิ์วันลาคงเหลือ];
        E --> F[2. สร้างคำขอ สถานะ: 'รออนุมัติ'];
        F --> G[3. แจ้งเตือนผู้อนุมัติตามสายงาน];
    end

    subgraph "ผู้อนุมัติ (Approver)"
        G --> H[ผู้อนุมัติตรวจสอบคำขอ];
        H --> I{การตัดสินใจ?};
    end

    subgraph "ผลลัพธ์ของกระบวนการ"
        I -->|'อนุมัติ'| J{เป็นผู้อนุมัติคนสุดท้าย?};
        J -->|'ใช่'| K[ระบบเปลี่ยนสถานะเป็น 'อนุมัติแล้ว'];
        K --> L[สร้าง Event ใน Google Calendar];
        L --> Z[สิ้นสุดกระบวนการ];

        J -->|'ไม่ใช่'| M[ระบบแจ้งเตือนผู้อนุมัติลำดับถัดไป];
        M --> H;

        I -->|'ไม่อนุมัติ'| N[ผู้อนุมัติกรอกเหตุผล];
        N --> O[ระบบเปลี่ยนสถานะเป็น 'ไม่อนุมัติ'];
        O --> Z;

        I -->|'ส่งให้แก้ไข'| P[ผู้อนุมัติกรอกเหตุผล];
        P --> Q[ระบบเปลี่ยนสถานะเป็น 'รอแก้ไข'];
        Q --> R[พนักงานแก้ไขและส่งคำขอใหม่];
        R --> G;
    end
```

## Flowchart 3: กระบวนการลงเวลาทำงาน (Check-in/Check-out)

```mermaid
graph TD;
    A[ผู้ใช้เปิดหน้า Login] --> B[คลิก 'ลงเวลาทำงาน'];
    B --> C[กรอกอีเมลและรหัสผ่าน];
    C --> D[ระบบตรวจสอบข้อมูล];
    D --> E[เบราว์เซอร์ขอสิทธิ์ GPS];
    E --> F[ระบบรับค่าพิกัด];
    F --> G[ระบบตรวจสอบสถานะของผู้ใช้];
    G --> H{Check-in หรือ Check-out?};

    subgraph "กรณี Check-in"
        H -->|"Check-in"| I{เป็นวันทำงานปกติ?};
        I -->|"ใช่"| J[บันทึกเวลาเข้างาน];
        I -->|"ไม่ใช่ (เป็นวันหยุด)"| K[ระบบตรวจสอบคำขอ OT ที่ได้รับอนุมัติ];
        K --> L{มี OT ที่อนุมัติแล้วหรือไม่?};
        L -->|"มี"| J;
        L -->|"ไม่มี"| M[แสดงข้อความผิดพลาด: ไม่สามารถลงเวลาได้];
    end

    subgraph "กรณี Check-out"
        H -->|"Check-out"| N[ระบบคำนวณชั่วโมงทำงานปกติและ OT];
        N --> O[บันทึกเวลาออกงาน];
    end

    subgraph "สิ้นสุด"
      J --> Z[สิ้นสุด];
      M --> Z;
      O --> Z;
    end
```

## Flowchart 4: กระบวนการขอแก้ไขเวลา (Time Correction Request)

```mermaid
graph TD;
    subgraph "พนักงาน (Employee)"
        A["เข้าเมนู 'ขอแก้ไขเวลา'"] --> B["เลือกวันที่ต้องการแก้ไข"];
        B --> C["ระบบดึงข้อมูลเวลาเดิม"];
        C --> D["เลือกประเภท (เข้า/ออก)"];
        D --> E["กรอกเวลาที่ถูกต้องและเหตุผล"];
        E --> F["กด 'ส่งคำขอ'"];
    end

    subgraph "ระบบ (System)"
        F --> G["1. ตรวจสอบคำขอซ้ำซ้อน"];
        G --> H["2. สร้างคำขอ สถานะ: 'รออนุมัติ'"];
        H --> I["3. แจ้งเตือนผู้อนุมัติ"];
    end

    subgraph "ผู้อนุมัติ (Approver)"
        I --> J["ผู้อนุมัติตรวจสอบคำขอ"];
        J --> K{"อนุมัติหรือไม่?"};
    end

    subgraph "ผลลัพธ์"
        K -->|"อนุมัติ"| L["ระบบอัปเดตข้อมูลใน TimeLog"];
        L --> M["เปลี่ยนสถานะเป็น 'อนุมัติแล้ว'"];
        M --> N["แจ้งเตือนผู้ขอ"];
        N --> Z["สิ้นสุด"];

        K -->|"ไม่อนุมัติ"| O["ผู้อนุมัติกรอกเหตุผล"];
        O --> P["เปลี่ยนสถานะเป็น 'ไม่อนุมัติ'"];
        P --> Q["แจ้งเตือนผู้ขอ"];
        Q --> Z;
    end
```

## Flowchart 5: กระบวนการขอทำงานล่วงเวลา (OT Request)

```mermaid
graph TD;
    subgraph "พนักงาน (Employee)"
        A["เข้าเมนู 'ขอทำงานล่วงเวลา'"] --> B["กรอกวันที่และเวลา OT"];
        B --> C["กรอกเหตุผล"];
        C --> D["กด 'ส่งคำขอ'"];
    end

    subgraph "ระบบ (System)"
        D --> E["1. ตรวจสอบเงื่อนไข (เวลา > 17:30, ไม่ทับซ้อน)"];
        E --> F["2. สร้างคำขอ สถานะ: 'รออนุมัติ'"];
        F --> G["3. แจ้งเตือนผู้อนุมัติ"];
    end
    
    subgraph "ผู้อนุมัติ (Approver)"
        G --> H["ผู้อนุมัติตรวจสอบคำขอ"];
        H --> I{"อนุมัติหรือไม่?"};
    end

    subgraph "ผลลัพธ์"
        I -->|"อนุมัติ"| J{"เป็นผู้อนุมัติคนสุดท้าย?"};
        J -->|"ใช่"| K["เปลี่ยนสถานะเป็น 'อนุมัติแล้ว'"];
        K --> L["สร้าง Event ใน Google Calendar"];
        L --> Z["สิ้นสุด"];
        
        J -->|"ไม่ใช่"| M["แจ้งเตือนผู้อนุมัติลำดับถัดไป"];
        M --> H;
        
        I -->|"ไม่อนุมัติ"| N["เปลี่ยนสถานะเป็น 'ไม่อนุมัติ'"];
        N --> Z;
    end
```

## Flowchart 6: กระบวนการขอเบิกค่ารักษา (Medical Claim)

```mermaid
graph TD;
    subgraph "พนักงาน (Employee)"
        A["เข้าเมนู 'ขอเบิกค่ารักษา'"] --> B["1. เลือกใบลาป่วยที่เคยอนุมัติแล้ว"];
        B --> C["2. กรอกจำนวนเงินและรายละเอียด"];
        C --> D["3. แนบไฟล์ใบเสร็จ (บังคับ)"];
        D --> E["กด 'ยืนยัน'"];
    end

    subgraph "ระบบ (System)"
        E --> F{"ตรวจสอบเงื่อนไข"};
        F -- "ผ่าน" --> G["สร้างคำขอ สถานะ: 'รออนุมัติ'"];
        F -- "ไม่ผ่าน" --> H["แสดงข้อความผิดพลาด"];
        G --> I["แจ้งเตือนผู้อนุมัติ"];
    end
    
    subgraph "เงื่อนไข"
        note1["เงื่อนไข: <br/> - ต้องมีใบลาป่วยอ้างอิง <br/> - ไม่เกิน 1,000 บาท/ครั้ง <br/> - ยอดรวมไม่เกิน 10,000 บาท/ปี"]
    end

    subgraph "ผู้อนุมัติ (Approver)"
        I --> J["ผู้อนุมัติตรวจสอบคำขอ"];
        J --> K{"อนุมัติหรือไม่?"};
    end
    
    subgraph "ผลลัพธ์"
        K -->|"อนุมัติ"| L{"เป็นผู้อนุมัติคนสุดท้าย?"};
        L -->|"ใช่"| M["เปลี่ยนสถานะเป็น 'อนุมัติแล้ว'"];
        M --> Z["สิ้นสุด"];
        
        L -->|"ไม่ใช่"| N["แจ้งเตือนผู้อนุมัติลำดับถัดไป"];
        N --> J;
        
        K -->|"ไม่อนุมัติ"| O["เปลี่ยนสถานะเป็น 'ไม่อนุมัติ'"];
        O --> Z;
    end
```
